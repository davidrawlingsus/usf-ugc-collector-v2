<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How's Your Super Tough Flag Holding Up?</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Spectral:ital,opsz,wght@0,7.5..10,200..900;1,7.5..10,200..900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'DM Sans', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }
        
        .email-container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .header {
            background: linear-gradient(135deg, #162D59 0%, #8B2323 100%);
            color: white;
            padding: 30px 25px;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 200px;
        }
        
        .logo-container {
            background: white;
            padding: 15px;
            margin-bottom: 0;
            width: 100%;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .flag-icon {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .flag-icon img {
            width: 80px;
            height: auto;
            max-width: 100%;
        }
        
        .header h1, .header h2 {
            font-family: 'Spectral', serif;
            font-size: 1.8rem;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .header h2 {
            font-size: 1.5rem;
        }
        
        .header p {
            font-family: 'DM Sans', sans-serif;
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .content {
            padding: 30px 25px;
        }
        
        .greeting {
            font-family: 'DM Sans', sans-serif;
            font-size: 1.1rem;
            margin-bottom: 20px;
            color: #1e3a8a;
            font-weight: 600;
        }
        
        .main-text {
            font-family: 'DM Sans', sans-serif;
            font-size: 1rem;
            margin-bottom: 25px;
            color: #4a5568;
        }
        
        .cta-section {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
        }
        
        .cta-button {
            display: inline-block;
            background: #162d59;
            color: white;
            padding: 15px 30px;
            text-decoration: none;
            border-radius: 8px;
            font-family: 'DM Sans', sans-serif;
            font-weight: 700;
            font-size: 1.1rem;
            margin: 15px 0;
            transition: background-color 0.3s;
        }
        
        .cta-button:hover {
            background: #1e3a8a;
        }
        
        .prizes-section {
            background: linear-gradient(135deg, #fef3c7 0%, #fed7aa 100%);
            border-left: 4px solid #f59e0b;
            border-radius: 8px;
            padding: 25px;
            margin: 25px 0;
        }
        
        .prizes-title {
            color: #92400e;
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .prize-item {
            display: flex;
            align-items: center;
            margin: 15px 0;
            padding: 10px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 6px;
        }
        
        .prize-icon {
            font-size: 1.5rem;
            margin-right: 12px;
            width: 35px;
            text-align: center;
        }
        
        .prize-text {
            flex: 1;
            color: #78350f;
        }
        
        .prize-text strong {
            color: #92400e;
        }
        
        .time-sensitive {
            background: #fef2f2;
            border: 1px solid #fca5a5;
            border-radius: 6px;
            padding: 15px;
            margin: 20px 0;
            text-align: center;
        }
        
        .time-sensitive-text {
            color: #dc2626;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .time-sensitive-sub {
            color: #7f1d1d;
            font-size: 0.9rem;
        }
        
        .footer {
            background: #f8fafc;
            padding: 25px;
            text-align: center;
            border-top: 1px solid #e2e8f0;
        }
        
        .footer-text {
            color: #6b7280;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }
        
        .unsubscribe {
            color: #9ca3af;
            text-decoration: none;
            font-size: 0.8rem;
        }
        
        .social-proof {
            background: #ecfdf5;
            border-left: 4px solid #10b981;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .social-proof-text {
            color: #047857;
            font-style: italic;
            margin-bottom: 10px;
        }
        
        .social-proof-author {
            color: #065f46;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .how-it-works {
            background: #ecfdf5;
            border-left: 4px solid #10b981;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .how-it-works-content {
            flex: 1;
        }
        
        .how-it-works h3 {
            color: #047857;
            font-size: 1.2rem;
            margin-bottom: 15px;
            font-weight: 700;
        }
        
        .step-item {
            display: flex;
            align-items: flex-start;
            margin: 12px 0;
        }
        
        .step-number {
            background: #10b981;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 700;
            margin-right: 12px;
            flex-shrink: 0;
        }
        
        .step-text {
            color: #065f46;
            flex: 1;
        }
        
        .how-it-works-image {
            flex-shrink: 0;
            width: 150px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .how-it-works-image img {
            width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        /* Merge Fields Demo Styles */
        .merge-fields-demo {
            max-width: 600px;
            margin: 20px auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .toggle-btn {
            background: none;
            color: #1e3a8a;
            border: none;
            padding: 12px 20px;
            font-family: 'DM Sans', sans-serif;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            width: 100%;
            text-decoration: underline;
            transition: color 0.3s;
        }
        
        .toggle-btn:hover {
            color: #162d59;
        }
        
        .merge-fields-panel {
            padding: 20px;
            border-top: 1px solid #e5e7eb;
        }
        
        .merge-fields-panel h3 {
            font-family: 'Spectral', serif;
            color: #1e3a8a;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }
        
        .field-group {
            margin-bottom: 15px;
        }
        
        .field-group label {
            display: block;
            font-family: 'DM Sans', sans-serif;
            font-weight: 600;
            color: #374151;
            margin-bottom: 5px;
            font-size: 14px;
        }
        
        .field-group input {
            width: 100%;
            padding: 8px 12px;
            border: 2px solid #e5e7eb;
            border-radius: 6px;
            font-family: 'DM Sans', sans-serif;
            font-size: 14px;
            transition: border-color 0.3s;
        }
        
        .field-group input:focus {
            outline: none;
            border-color: #1e3a8a;
        }
        
        .apply-btn {
            background: #162d59;
            color: white;
            border: none;
            padding: 10px 20px;
            font-family: 'DM Sans', sans-serif;
            font-weight: 600;
            font-size: 14px;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .apply-btn:hover {
            background: #1e3a8a;
        }
        
        @media (max-width: 600px) {
            .email-container {
                margin: 0;
                border-radius: 0;
            }
            
            .header, .content, .footer {
                padding: 20px 15px;
            }
            
            .header h1 {
                font-size: 1.5rem;
            }
            
            .cta-button {
                padding: 12px 25px;
                font-size: 1rem;
            }
            
            .prize-item {
                flex-direction: column;
                text-align: center;
            }
            
            .prize-icon {
                margin-bottom: 8px;
            }
            
            .how-it-works {
                flex-direction: column;
                gap: 15px;
            }
            
            .how-it-works-image {
                width: 100%;
                max-width: 250px;
                margin: 0 auto;
            }
        }
    </style>
</head>
<body>
    <div class="merge-fields-demo">
        <button id="toggleMergeFields" class="toggle-btn">Merge Fields</button>
        <div id="mergeFieldsPanel" class="merge-fields-panel" style="display: none;">
            <h3>Test Merge Fields</h3>

            <div class="field-group">
                <label for="firstName">First Name:</label>
                <input type="text" id="firstName" value="David" placeholder="e.g., David">
            </div>
            <div class="field-group">
                <label for="lastName">Last Name:</label>
                <input type="text" id="lastName" value="Rawlings" placeholder="e.g., Rawlings">
            </div>
            <div class="field-group">
                <label for="email">Email:</label>
                <input type="email" id="email" value="david@rawlings.us" placeholder="e.g., david@rawlings.us">
            </div>
            <button id="applyMergeFields" class="apply-btn">Apply Merge Fields</button>
        </div>
    </div>
    
    <div class="email-container">
        <div class="logo-container">
            <div class="flag-icon">
                <img src="https://usf-testimonial-collector-production.up.railway.app/assets/48f47d55-65ce-4116-9b32-5c0068a377c1" alt="Super Tough Flag Logo">
            </div>
        </div>
        <div class="header">
            <h1>How's Your Super Tough Flag Holding Up?</h1>
            <p>We'd love to hear from you, <span id="first_name_placeholder">{{first_name}}</span>!</p>
        </div>
        
        <div class="content">
            <div class="greeting">
                Hi <span id="greeting_first_name_placeholder">{{first_name}}</span>,
            </div>
            
            <div class="main-text">
                It's been a while since you got your Super Tough flag from us, and we're curious – how's it performing?
            </div>
            
            <div class="main-text">
                We're passionate about making the highest quality American flags, and your real-world experience helps us continue improving and helps fellow Americans choose flags they can count on.
            </div>
            
            <div class="prizes-section">
                <div class="prizes-title">🎁 Thank You Prizes</div>
                
                <div class="prize-item">
                    <div class="prize-icon">📊</div>
                    <div class="prize-text">
                        <strong>Answer Questions:</strong> Enter for a chance to win a <strong>$1,000 Amazon Gift Card</strong>
                    </div>
                </div>
                
                <div class="prize-item">
                    <div class="prize-icon">🎬</div>
                    <div class="prize-text">
                        <strong>Leave a Testimonial:</strong> Be entered to win a <strong>Super Tough Flag every 6 months for LIFE</strong>
                    </div>
                </div>
                
                <div class="prize-item">
                    <div class="prize-icon">🏆</div>
                    <div class="prize-text">
                        <strong>Everyone wins:</strong> You're helping fellow Americans choose quality flags that last
                    </div>
                </div>
            </div>
            
            <div class="how-it-works">
                <div class="how-it-works-content">
                    <h3>How It Works</h3>
                    
                    <div class="step-item">
                        <div class="step-number">1</div>
                        <div class="step-text">Click the button below to access our survey</div>
                    </div>
                    
                    <div class="step-item">
                        <div class="step-number">2</div>
                        <div class="step-text">Answer questions about your flag's performance (2 minutes)</div>
                    </div>
                    
                    <div class="step-item">
                        <div class="step-number">3</div>
                        <div class="step-text">Optionally record a video testimonial for extra prizes</div>
                    </div>
                    
                    <div class="step-item">
                        <div class="step-number">4</div>
                        <div class="step-text">Winners will be notified by email within 30 days</div>
                    </div>
                </div>
                
                <div class="how-it-works-image">
                    <img src="https://usf-testimonial-collector-production.up.railway.app/assets/4b3d7a73-c188-4c5c-aa14-8eee8e4a17ba" alt="How It Works Illustration">
                </div>
            </div>
            
            <div class="cta-section">
                <h3 style="color: #1e3a8a; margin-bottom: 15px;">Ready to Share Your Experience?</h3>
                <p style="margin-bottom: 15px; color: #4a5568;">It only takes 2 minutes to complete the survey and enter the giveaway</p>
                <a href="https://form.typeform.com/to/p8Y3kpxF#time_since_purchase={{time_since_purchase}}&first_name={{first_name}}&last_name={{last_name}}&email={{email}}" class="cta-button" id="cta1">Yes, I'll Take the Survey!</a>
            </div>
            
            <div class="time-sensitive">
                <div class="time-sensitive-text">⏰ Survey closes in 7 days</div>
                <div class="time-sensitive-sub">Don't miss your chance to win!</div>
            </div>
            
            <div class="main-text" style="margin-top: 30px;">
                Whether your flag exceeded expectations or needs improvement, we want to hear from you. Your honest feedback drives everything we do and helps fellow Americans choose quality flags they can count on.
            </div>
            
            <div style="margin-top: 25px; color: #4a5568;">
                Best regards,<br>
                <strong>The Super Tough Flag Team</strong><br>
                United-States-Flag.com
            </div>
            
            <div style="margin-top: 25px; padding-top: 20px; border-top: 1px solid #e5e7eb; color: #6b7280; font-size: 0.9rem;">
                <strong>P.S.</strong> If you have different feedback about your Super Tough flag experience, please reply to this email and let us know. We value all customer feedback and want to hear from you!
            </div>
        </div>
        
        <div class="footer">
            <div class="footer-text">
                Questions? Reply to this email or visit our <a href="{{support_link}}" style="color: #1e3a8a;">Help Center</a>
            </div>
            <div class="footer-text">
                <a href="{{unsubscribe_link}}" class="unsubscribe">Unsubscribe</a> | 
                <a href="{{preferences_link}}" class="unsubscribe">Email Preferences</a>
            </div>
        </div>
    </div>
    
    <script>
        // Merge Fields Demo Functionality
        document.addEventListener('DOMContentLoaded', function() {
            const toggleBtn = document.getElementById('toggleMergeFields');
            const mergePanel = document.getElementById('mergeFieldsPanel');
            const applyBtn = document.getElementById('applyMergeFields');
            
            // Toggle merge fields panel
            toggleBtn.addEventListener('click', function() {
                if (mergePanel.style.display === 'none') {
                    mergePanel.style.display = 'block';
                    toggleBtn.textContent = 'Hide Merge Fields';
                } else {
                    mergePanel.style.display = 'none';
                    toggleBtn.textContent = 'Merge Fields';
                }
            });
            
            // Apply merge fields
            applyBtn.addEventListener('click', function() {
                const firstName = document.getElementById('firstName').value;
                const lastName = document.getElementById('lastName').value;
                const email = document.getElementById('email').value;
                
                // Update placeholders in email content
                document.getElementById('first_name_placeholder').textContent = firstName;
                document.getElementById('greeting_first_name_placeholder').textContent = firstName;
                
                // Update CTA URLs with merge fields
                const baseUrl = 'https://form.typeform.com/to/p8Y3kpxF#';
                const params = `first_name=${encodeURIComponent(firstName)}&last_name=${encodeURIComponent(lastName)}&email=${encodeURIComponent(email)}`;
                
                document.getElementById('cta1').href = baseUrl + params;
                
                // Show success message
                alert('Merge fields applied! The email now shows personalized content and the CTA buttons link to the Typeform with your data.');
            });
        });
    </script>
</body>
</html>